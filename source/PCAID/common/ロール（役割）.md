---
sidebar_position: 15
---

# 15. ロール（役割）

## ロールとは

- ID基盤やID基盤を利用するサービス（例：PCA Hub、PCAクラウド）における実行権限のセットのこと
  - 例として「管理者」が代表的
- ロールは主にユーザーに対して割り当てる
  - 将来的にはユーザーグループに対して紐付けることを検討する
- ID基盤におけるロールは、原則として組織別に定義する
  - 権限のない別組織に対して実行することを防ぐ
- ID基盤を利用するサービスにおけるロールも取り込む
  - サービス側のライセンス割当状況を把握して利用することを想定する

## ロールの書式

### ID基盤で定義するロール

- **pca.id.{組織ID}/{ID基盤におけるロール名}**
  - 組織管理者： `pca.id.xxxx-xx-xx-xxxx/admin`
    - 組織管理者が、ユーザーに直接割り当てる
    - すべての管理権限を内包し、サービス責任者などの権限も併せ持つ
    - 管理コンソールのすべての機能を利用できる
  - 一般ユーザー： `pca.id.xxxx-xx-xx-xxxx/user`
    - 組織に割り当てることで、組織に所属ユーザーへ間接的に割り当てる
    - 管理コンソールは利用できない
  - サービス責任者：`pca.id.xxxx-xx-xx-xxxx/pca.cloud.org-xxx-xxx:head`
    - 組織管理者が、ユーザーに直接割り当てる
    - 管理コンソールの一部の機能（サービス管理）を利用できる
  - 製品ダウンロード制限：`pca.id.xxxx-xx-xx-xxxx/pcaapp20_download`
    - ダウンロードの対象製品はPCAクラウド／PCAサブスク
      - 契約済みの製品のみダウンロード可能
    - 組織管理者またはサービス責任者が、サービス利用可能なユーザーに直接割り当てる
      - 割り当てられたユーザーは製品ダウンロードが許可される
      - デフォルトは、すべてのユーザーが製品ダウンロード不許可として扱う

### ID基盤を利用するサービスで定義するロール

- **{サービス区画}/{サービスにおけるロール名}**
  - PCA Hub テナント管理者：`pca.hub.tenant1/gs:admin`
  - PCAクラウド会計 システム管理者：`pca.cloud.org-xxx-xxx/acc20:admin`
- 原則としてすべて小文字とするが、一致判定では大文字・小文字を無視して比較する

## ロール定義（ID基盤）

| ロール名 | 表示名 |  説明 | 権限セット |
| -- | -- | -- | -- |
| admin | 組織管理者 | 対象とする組織における管理全般の権限をもつ | ・すべての管理権限 |
| user | 一般ユーザー | 対象組織における自身のアカウント設定の権限を持つ | ・自身のアカウント参照 <br/> ・自身のアカウント更新 |
| users_readonly <br/>（2024/11未使用） | 所属ユーザー参照 | 対象組織に所属するユーザーの読み取り権限をもつ | ・組織内ユーザー一覧の取得 |
| head | サービス責任者 | 対象サービスにおける利用ユーザーの割り当て権限を持つ | ・利用ユーザーの割り当て <br/> ・利用ユーザーの解除 |
| pcaapp20_download | ダウンロード | PCAクラウド等の製品ダウンロードを許可する | ・製品ダウンロード |
