---
sidebar_position: 11
---

# 11. PCAアカウント

## PCAアカウントとは

- PCAサービス共通のID基盤におけるユーザーアカウント
  - PCA HubやPCAクラウドからのユーザー登録により作成する
  - PCA Hubからユーザー情報をインポートして作成する（ID移行）
  - PCA ID管理者画面から作成する

## アカウント識別情報

### メールアドレス

- 全体で一意（重複不可）、複数登録不可
  - 例：`katou@pca.co.jp`
- 認証時のアカウント識別に利用可能
- 利用者本人がメール受信できることを前提とする

### 組織付きログイン名

- 全体で一意（重複不可）
- 形式は「[組織名](./組織名.md) + \ + ログイン名」とする
  - 例：`PCA\katou`
- 所属する[組織](./組織.md)ごとのログイン名を持つことが可能（後述）
  - 例：`PCA\katou` と `PCA-dev\masaaki.katou`
- 認証時のアカウント識別に利用可能

### ログイン名（ユーザーID）

- [組織](./組織.md)内で一意
- アカウント作成の起点となる[サービス区画](./サービス区画.md)におけるログイン名またはユーザーIDを初期値とする
- 半角英数（大文字・小文字）、ハイフン（-）、ピリオド（.）、アンダーバー（_）、アットマーク（@）
- 128文字を上限とする

## [組織](./組織.md)とアカウントの関係

- 複数の[組織](./組織.md)に所属可能とする

### [組織](./組織.md)とログイン名の関係

- 同じ[組織](./組織.md)では[サービス区画](./サービス区画.md)ごとに異なるログイン名は不可
  - アカウント `yamada.tarou@corp` は組織 `corp1` で `yamada` と `tarou` の両方を持てない
  - １つの組織なら、異なるサービスであっても、１つのログイン名を利用する必要がある
- [組織](./組織.md)ごとに異なるログイン名は可能
  - アカウント `yamada.tarou@corp` は組織 `corp1` で `yamada` を、組織 `corp2` で `tarou` を持てる
  - 組織ごとに異なる組織管理者がログイン名を管理する状況を想定する

## アカウント属性項目

- アカウントID（必須）
  - 画面上には表示しない内部ID
  - OpenID Connect の IDToken における sub の値
- メールアドレス（必須）
- 姓・カナ（必須）
- 名・カナ
- 表示名（必須）
- 所属組織（一覧）（１つは必須）
- ログイン名（一覧）（１つは必須）
  - 所属組織とログイン名はセットで管理
- プロフィール画像
- 認証情報（必須）
  - パスワード
  - バックアップコード
  - パスキー（FIDO公開鍵）

### 項目スペック一覧

| 項目名 | 必須 | 桁数 | 制限 | 備考 |
| --- | :---: | --- | --- | --- |
| メールアドレス | ◯ | ～128文字 | ・メールアドレス形式 <br/> ・RFC準拠 <br/> 以下、使用可能 <br/>　・ 半角英数字  <br/>　・ ハイフン（`-`）<br/>　・ ピリオド（`.`）<br/>　・ アンダーバー（`_`）<br/>　・ プラス（`+`）<br/>　・ パーセント（`%`） | ・PCA ID全体で一意 <br/> ・アルファベットは小文字のみ  <br/>　（例）<username@company.com> |
| ログイン名 | ◯ | 1～128文字 | 以下、使用可能 <br/>・半角英数 <br/>・ハイフン「-」 <br/>・ピリオド「.」<br/>・アンダーバー「_」<br/>・アットマーク「@」 | ・組織ごとに一意 |
| 表示名 | ◯ | 1～160文字 | 以下、使用不可 <br/>・コロン「:」<br/>・ダブルクォート「"」<br/>・改行文字 | ・重複可 |
| 姓・カナ | ◯ | 1～20文字 | 同上 | ・重複可 |
| 名・カナ |  |  0～20文字 | 同上 | ・重複可 |
| パスワード | ◯ |  12～127文字 | 任意のUNICODE文字 | ・文字種（英数記号）組み合わせ制限はしない <br/>・[認証セキュリティ](./認証セキュリティ.md)  |
| バックアップコード | ◯ |  14文字 | ・大文字 <br/>・数字 <br/>・ハイフン「-」 | ・一度に12個のコードを発行する <br/>　（例）`4ZHA-HWYK-LUQF` |
| プロフィール画像 |  |  1MB未満 | ・.jpg (.jpeg) <br/>・.bmp <br/>・.png <br/>・.svg | ・サービス側で別管理あり（例：PCA Hub） |

### 関連情報

- [認証セキュリティ](./認証セキュリティ.md)
- [PCA Hub ユーザースペック](https://pca1980.backlog.com/alias/wiki/772885#loom-header-6)
